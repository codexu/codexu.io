<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>State Management | X-BUILD</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.859a2b70.css" as="style"><link rel="preload" href="/assets/js/app.d8e8e414.js" as="script"><link rel="preload" href="/assets/js/2.4f310d24.js" as="script"><link rel="preload" href="/assets/js/6.c66491f5.js" as="script"><link rel="prefetch" href="/assets/js/10.192e02b0.js"><link rel="prefetch" href="/assets/js/11.f9214cfd.js"><link rel="prefetch" href="/assets/js/12.c2eedbbc.js"><link rel="prefetch" href="/assets/js/13.10abc902.js"><link rel="prefetch" href="/assets/js/14.7afa5dc9.js"><link rel="prefetch" href="/assets/js/15.e4a1cd52.js"><link rel="prefetch" href="/assets/js/16.9166d4b2.js"><link rel="prefetch" href="/assets/js/17.ebcc5ac1.js"><link rel="prefetch" href="/assets/js/18.355857b0.js"><link rel="prefetch" href="/assets/js/19.88ddee67.js"><link rel="prefetch" href="/assets/js/20.c730628b.js"><link rel="prefetch" href="/assets/js/21.86fa485e.js"><link rel="prefetch" href="/assets/js/22.2e10ac92.js"><link rel="prefetch" href="/assets/js/23.82951de6.js"><link rel="prefetch" href="/assets/js/24.cead7a62.js"><link rel="prefetch" href="/assets/js/25.06d598ae.js"><link rel="prefetch" href="/assets/js/26.a479499d.js"><link rel="prefetch" href="/assets/js/27.8822658b.js"><link rel="prefetch" href="/assets/js/28.3a36513b.js"><link rel="prefetch" href="/assets/js/29.ea50a4c3.js"><link rel="prefetch" href="/assets/js/3.f0afd4d3.js"><link rel="prefetch" href="/assets/js/30.56dd4442.js"><link rel="prefetch" href="/assets/js/31.de1d0d27.js"><link rel="prefetch" href="/assets/js/32.f29f594a.js"><link rel="prefetch" href="/assets/js/33.cc2e9e3e.js"><link rel="prefetch" href="/assets/js/34.f62ff633.js"><link rel="prefetch" href="/assets/js/35.e03987af.js"><link rel="prefetch" href="/assets/js/36.6004732e.js"><link rel="prefetch" href="/assets/js/37.d5bf2c46.js"><link rel="prefetch" href="/assets/js/38.942321d9.js"><link rel="prefetch" href="/assets/js/39.6369d8b6.js"><link rel="prefetch" href="/assets/js/4.2ca7c99c.js"><link rel="prefetch" href="/assets/js/40.5b0472d7.js"><link rel="prefetch" href="/assets/js/41.0bbde06c.js"><link rel="prefetch" href="/assets/js/42.7a6b1c0a.js"><link rel="prefetch" href="/assets/js/5.612f1155.js"><link rel="prefetch" href="/assets/js/7.921dde6d.js"><link rel="prefetch" href="/assets/js/8.932fae18.js"><link rel="prefetch" href="/assets/js/9.284a29d4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.859a2b70.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">X-BUILD</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Get started</a></div><div class="nav-item"><a href="/concept.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/utils/get_started_quickly.html" class="nav-link">Tools</a></div><div class="nav-item"><a href="/case/" class="nav-link">Cases</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StateManagement.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/codexu/x-build" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Get started</a></div><div class="nav-item"><a href="/concept.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/utils/get_started_quickly.html" class="nav-link">Tools</a></div><div class="nav-item"><a href="/case/" class="nav-link">Cases</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/StateManagement.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/zh/" class="nav-link">简体中文</a></li></ul></div></div> <a href="https://github.com/codexu/x-build" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Get started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" class="sidebar-link">Overview</a></li><li><a href="/cli.html" class="sidebar-link">CLI</a></li><li><a href="/quick_start.html" class="sidebar-link">Quick start</a></li><li><a href="/create_project.html" class="sidebar-link">Create project</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/concept.html" class="sidebar-link">Concept</a></li><li><a href="/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/StateManagement.html" class="active sidebar-link">State Management</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/StateManagement.html#get-started-quickly" class="sidebar-link">Get started quickly</a></li><li class="sidebar-sub-header"><a href="/StateManagement.html#configuration-parameters" class="sidebar-link">Configuration Parameters</a></li><li class="sidebar-sub-header"><a href="/StateManagement.html#instance-method" class="sidebar-link">Instance method</a></li></ul></li><li><a href="/specification.html" class="sidebar-link">Specification</a></li><li><a href="/Testing.html" class="sidebar-link">Testing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tools</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/utils/get_started_quickly.html" class="sidebar-link">Get started quickly</a></li><li><a href="/utils/x-fullpage.html" class="sidebar-link">Fullpage</a></li><li><a href="/utils/x-load.html" class="sidebar-link">Load</a></li><li><a href="/utils/x-animate.html" class="sidebar-link">Animate</a></li><li><a href="/utils/x-touch.html" class="sidebar-link">Touch</a></li><li><a href="/utils/x-music.html" class="sidebar-link">Music</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="state-management"><a href="#state-management" aria-hidden="true" class="header-anchor">#</a> State Management</h1> <p>If you have used Vuex, then congratulations, you can quickly get started with X-BUILD's own state management, it is a castrated version of Vuex, only retains the functionality of State, Mutation, Action, and provides a watch method for listening State changes.</p> <h2 id="get-started-quickly"><a href="#get-started-quickly" aria-hidden="true" class="header-anchor">#</a> Get started quickly</h2> <p>Install buildx via npm or select state management options when X-BUILD is initialized.</p> <p>Create store.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> BuildX <span class="token keyword">from</span> <span class="token string">'buildx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'codexu'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">setName</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>name <span class="token operator">=</span> payload<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setName'</span><span class="token punctuation">,</span> <span class="token string">'dispatch name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">BuildX</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Introducing a store instance in other js, you can change state by commit or dispatch, and listen for state changes by watch.</p> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span>

store<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setName'</span><span class="token punctuation">,</span> <span class="token string">'commit name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'getName'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="configuration-parameters"><a href="#configuration-parameters" aria-hidden="true" class="header-anchor">#</a> Configuration Parameters</h2> <p>The mutations, actions are similar in usage, mutations are used for synchronization, actions are used for asynchronous, and actions are submitted to mutations by calling commit and then modifying the state property.</p> <h3 id="mutations"><a href="#mutations" aria-hidden="true" class="header-anchor">#</a> mutations</h3> <p>The mutations are an object, each property must be a function, and the function has two properties state and payload.</p> <p>State: A state pointing to the instance that is used to modify the value of the property.</p> <p>Payload: The value passed in by commit.</p> <h3 id="actions"><a href="#actions" aria-hidden="true" class="header-anchor">#</a> actions</h3> <p>Actions are an object, each property must be a function, and the function has two properties, store and payload.</p> <p>Store: Point to the instance, you can modify the value of state by submitting mutations via store.commit .</p> <p>Payload: The value passed in by dispatch.</p> <h2 id="instance-method"><a href="#instance-method" aria-hidden="true" class="header-anchor">#</a> Instance method</h2> <h3 id="commit-mutationkey-payload"><a href="#commit-mutationkey-payload" aria-hidden="true" class="header-anchor">#</a> commit(mutationKey, payload)</h3> <p>mutationKey: Pass in the mutation you want to execute.</p> <p>Payload: Some parameters can be passed.</p> <h3 id="dispatch-actionkey-payload"><a href="#dispatch-actionkey-payload" aria-hidden="true" class="header-anchor">#</a> dispatch(actionKey, payload)</h3> <p>actionKey: Pass in the action you want to execute.</p> <p>Payload: Some parameters can be passed.</p> <h3 id="watch-statekey-callback"><a href="#watch-statekey-callback" aria-hidden="true" class="header-anchor">#</a> watch(stateKey, callback)</h3> <p>stateKey: Pass in the state key you want to listen to.</p> <p>Callback: This function is fired when the stateKey changes.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/codexu/codexu.github.io/edit/docs/docs/StateManagement.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/configuration.html" class="prev">
          Configuration
        </a></span> <span class="next"><a href="/specification.html">
          Specification
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d8e8e414.js" defer></script><script src="/assets/js/2.4f310d24.js" defer></script><script src="/assets/js/6.c66491f5.js" defer></script>
  </body>
</html>
