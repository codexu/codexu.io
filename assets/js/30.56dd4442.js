(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{201:function(t,a,r){"use strict";r.r(a);var s=r(0),e=Object(s.a)({},function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"x-load"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#x-load","aria-hidden":"true"}},[t._v("#")]),t._v(" X-LOAD")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://img.shields.io/npm/v/x-load.svg",alt:""}}),t._v(" "),r("img",{attrs:{src:"https://img.shields.io/github/size/codexu/x-load/dist/x-load.min.js.svg",alt:""}}),t._v(" "),r("img",{attrs:{src:"https://img.shields.io/npm/dm/x-load.svg",alt:""}}),t._v(" "),r("img",{attrs:{src:"https://img.shields.io/github/license/codexu/x-load.svg",alt:""}})]),t._v(" "),r("p",[t._v("通过预加载、懒加载、顺序加载控制图片下载方式，主要针对H5页面的Loading加载进度实现。")]),t._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),r("ul",[r("li",[t._v("通过 "),r("font",{attrs:{color:"DodgerBlue"}},[t._v("npm")]),t._v(" or "),r("font",{attrs:{color:"DodgerBlue"}},[t._v("yarn")]),t._v(" 安装：")],1)]),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" x-load --save\n")])])]),r("h2",{attrs:{id:"引用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#引用","aria-hidden":"true"}},[t._v("#")]),t._v(" 引用")]),t._v(" "),r("ul",[r("li",[t._v("通过包管理器安装：")])]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" XLoad "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x-load'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("blockquote",[r("p",[t._v("本项目通过 rollup 使用 UMD 格式打包，支持 AMD、CommonJS、script 标签引入，"),r("a",{attrs:{href:"https://github.com/codexu/x-load/tree/master/dist",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载源码"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"起步"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#起步","aria-hidden":"true"}},[t._v("#")]),t._v(" 起步")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("正文包裹层增加 "),r("font",{attrs:{color:"Green"}},[t._v('id="root"')]),t._v(" ，将你的所有正文内容写在这个 "),r("font",{attrs:{color:"Green"}},[t._v("div")]),t._v(" 下。")],1)]),t._v(" "),r("li",[r("p",[t._v("X-BUILD 项目已经在 index.pug 中定义好 "),r("font",{attrs:{color:"Crimson"}},[t._v("div#root")]),t._v(" ，所有的内容写在 app.pug 内即可。")],1)]),t._v(" "),r("li",[r("p",[r("font",{attrs:{color:"Crimson"}},[t._v("<img>")]),t._v(" 标签使用 "),r("font",{attrs:{color:"Green"}},[t._v("data-src")]),t._v(" 传入图片链接，不要设置 "),r("font",{attrs:{color:"Green"}},[t._v("src")]),t._v(" 属性。")],1)]),t._v(" "),r("li",[r("p",[t._v("至少给一个 "),r("font",{attrs:{color:"Crimson"}},[t._v("<img>")]),t._v(" 标签增加属性 "),r("font",{attrs:{color:"Green"}},[t._v("prior")]),t._v(" ，表示此图片需要优先加载。")],1)])]),t._v(" "),r("div",{staticClass:"language-html extra-class"},[r("pre",{pre:!0,attrs:{class:"language-html"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- html --\x3e")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),r("span",{pre:!0,attrs:{class:"token attr-value"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("root"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-src")]),r("span",{pre:!0,attrs:{class:"token attr-value"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./abc.jpg"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),r("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("prior")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),r("h2",{attrs:{id:"参数"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数","aria-hidden":"true"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),r("p",[t._v("实例化 XLoad 时，传入 object 配置参数：")]),t._v(" "),r("div",{staticClass:"language-javascript extra-class"},[r("pre",{pre:!0,attrs:{class:"language-javascript"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XLoad")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("h3",{attrs:{id:"wrapper"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#wrapper","aria-hidden":"true"}},[t._v("#")]),t._v(" wrapper")]),t._v(" "),r("p",[r("code",[t._v("#root")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<HTMLelement>")])],1),t._v(" "),r("p",[t._v("传入正文包裹层 DOM。")]),t._v(" "),r("h3",{attrs:{id:"loader"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loader","aria-hidden":"true"}},[t._v("#")]),t._v(" loader")]),t._v(" "),r("p",[r("code",[t._v("null")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<HTMLelement>")])],1),t._v(" "),r("p",[t._v("如果需要自定义 loading 效果，请将自定义 DOM 传入。")]),t._v(" "),r("h3",{attrs:{id:"attr"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#attr","aria-hidden":"true"}},[t._v("#")]),t._v(" attr")]),t._v(" "),r("p",[r("code",[t._v("'data-src'")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<String>")])],1),t._v(" "),r("p",[t._v("当 "),r("font",{attrs:{color:"Crimson"}},[t._v('<img data-src="url">')]),t._v(" 命名冲突时改变此项。")],1),t._v(" "),r("h3",{attrs:{id:"prior"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#prior","aria-hidden":"true"}},[t._v("#")]),t._v(" prior")]),t._v(" "),r("p",[r("code",[t._v("'prior'")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<String>")])],1),t._v(" "),r("p",[t._v("当 "),r("font",{attrs:{color:"Crimson"}},[t._v("<img prior>")]),t._v(" 命名冲突时改变此项。")],1),t._v(" "),r("h3",{attrs:{id:"sync"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#sync","aria-hidden":"true"}},[t._v("#")]),t._v(" sync")]),t._v(" "),r("p",[r("code",[t._v("true")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Boolean>")])],1),t._v(" "),r("p",[t._v("默认同步加载（按顺序加载），控制 "),r("font",{attrs:{color:"Crimson"}},[t._v("<img prior>")]),t._v(" 图片加载完成后剩余图片加载方式，设置为 false：异步加载(同时加载所有图片)。")],1),t._v(" "),r("h3",{attrs:{id:"loadimg"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#loadimg","aria-hidden":"true"}},[t._v("#")]),t._v(" loadImg")]),t._v(" "),r("p",[r("code",[t._v("null")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<String>")])],1),t._v(" "),r("p",[t._v("图片路径，用于未加载完成图片的背景图，注意：使用 webpack ，请使用 require()。")]),t._v(" "),r("h3",{attrs:{id:"beforeloading-object"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#beforeloading-object","aria-hidden":"true"}},[t._v("#")]),t._v(" beforeLoading(object)")]),t._v(" "),r("p",[r("code",[t._v("none")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Function>")])],1),t._v(" "),r("p",[t._v("当实例化完成后触发。")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("object")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Object>")]),t._v(" 指向实例")],1)]),t._v(" "),r("h3",{attrs:{id:"nexttickloading-percent"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nexttickloading-percent","aria-hidden":"true"}},[t._v("#")]),t._v(" nextTickLoading(percent)")]),t._v(" "),r("p",[r("code",[t._v("none")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Function>")])],1),t._v(" "),r("p",[t._v("每一个 "),r("font",{attrs:{color:"Crimson"}},[t._v("<img prior>")]),t._v(" 加载后时触发（不论成功或失败）。")],1),t._v(" "),r("ul",[r("li",[r("code",[t._v("percent")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Number>")]),t._v(" 当前图片加载进度，值为"),r("code",[t._v("0-1")]),t._v("的小数。")],1)]),t._v(" "),r("h3",{attrs:{id:"afterloading"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#afterloading","aria-hidden":"true"}},[t._v("#")]),t._v(" afterLoading()")]),t._v(" "),r("p",[r("code",[t._v("none")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Function>")])],1),t._v(" "),r("p",[t._v("所有 "),r("font",{attrs:{color:"Crimson"}},[t._v("<img prior>")]),t._v(" 加载完成后执行。")],1),t._v(" "),r("ul",[r("li",[r("code",[t._v("object")]),t._v(" "),r("font",{attrs:{color:"MediumSeaGreen"}},[t._v("<Object>")]),t._v(" 指向实例")],1)])])},[],!1,null,null,null);a.default=e.exports}}]);